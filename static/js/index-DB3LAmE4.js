import{m as M,o as r,c as h,a as t,d as x,u as S,r as k,b as o,e as m,w as a,F as V,f as U,g as w,h as I,t as C,l as R,i as z,I as q,C as N,j as B,k as P,n as G,p as T,q as Z,s as E,_ as H}from"./index-Bphj8G7B.js";import{C as J}from"./index-xsT6ILzg.js";import{F as K}from"./index-DpkDwrjV.js";import{S as A}from"./index-BMgpYYFt.js";import{A as O}from"./index-8P-keRm9.js";import{F as Q}from"./index-DJisJrtp.js";import{B as W}from"./index-CCkMhh6d.js";const X={style:{display:"inline-block"},viewBox:"0 0 48 48",width:"1.2em",height:"1.2em"},Y=t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"4"},[t("path",{d:"M28.286 37h11.428M42 42l-2.286-5zm-16 0l2.286-5zm2.286-5L34 24l5.714 13zM16 6l1 3M6 11h22m-18 5s1.79 6.26 6.263 9.74C20.737 29.216 28 32 28 32"}),t("path",{d:"M24 11s-1.79 8.217-6.263 12.783C13.263 28.348 6 32 6 32"})],-1),ee=[Y];function oe(g,s){return r(),h("svg",X,[...ee])}const ne=M({name:"icon-park-outline-translate",render:oe}),te={class:"custom-title"},se=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),ae=x({__name:"switchLanguage",setup(g){const s=S(),i=k(!1),c=u=>{s.language!=u.value&&s.setLanguage(u.value),i.value=!1};return(u,e)=>{const _=ne,v=A,b=q,y=N,l=B,n=O;return r(),h(V,null,[o(_,{onClick:e[0]||(e[0]=d=>i.value=!m(i))}),o(n,{show:m(i),"onUpdate:show":e[1]||(e[1]=d=>z(i)?i.value=d:null),"cancel-text":u.$t("global.cancel"),description:u.$t("setting.switchTitle"),"close-on-click-action":""},{default:a(()=>[o(l,{inset:""},{default:a(()=>[(r(!0),h(V,null,U(m(R),(d,f)=>(r(),w(y,{key:f,onClick:$=>c(d)},I({title:a(()=>[o(v,null,{default:a(()=>[t("span",te,C(d.label),1)]),_:2},1024)]),_:2},[d.value===m(s).language?{name:"right-icon",fn:a(()=>[o(b,{class:"active"},{default:a(()=>[se]),_:1})]),key:"0"}:void 0]),1032,["onClick"]))),128))]),_:1})]),_:1},8,["show","cancel-text","description"])],64)}}}),le={style:{display:"inline-block"},viewBox:"0 0 48 48",width:"1.2em",height:"1.2em"},re=t("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"4",d:"M28.053 4.41c-5.47 1.427-9.507 6.4-9.507 12.317c0 7.03 5.698 12.728 12.727 12.728c5.916 0 10.89-4.038 12.316-9.508A20 20 0 0 1 44 24c0 11.046-8.954 20-20 20S4 35.046 4 24S12.954 4 24 4c1.389 0 2.744.141 4.053.41Z"},null,-1),ie=[re];function ce(g,s){return r(),h("svg",le,[...ie])}const ue=M({name:"icon-park-outline-moon",render:ce}),de={style:{display:"inline-block"},viewBox:"0 0 48 48",width:"1.2em",height:"1.2em"},_e=t("g",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"4"},[t("path",{"stroke-linecap":"round",d:"m9.15 9.15l2.228 2.228M3 24h3.15m3 14.85l2.228-2.228M38.85 38.85l-2.228-2.228M45 24h-3.15m-3-14.85l-2.228 2.228M24 3v3.15"}),t("path",{fill:"currentColor",d:"M24 36c6.627 0 12-5.373 12-12s-5.373-12-12-12s-12 5.373-12 12s5.373 12 12 12Z"}),t("path",{"stroke-linecap":"round",d:"M24 45v-3.15"})],-1),me=[_e];function pe(g,s){return r(),h("svg",de,[...me])}const ve=M({name:"icon-park-outline-sun",render:pe}),he=x({__name:"switchDarkMode",setup(g){const s=S();return(i,c)=>{const u=ve,e=ue;return m(s).darkMode?(r(),w(u,{key:0,onClick:c[0]||(c[0]=_=>m(s).toggleDarkMode())})):(r(),w(e,{key:1,onClick:c[1]||(c[1]=_=>m(s).toggleDarkMode())}))}}}),ge={class:"bg-gradient"},fe={class:"form-header"},ke={class:"title font-size-20 font-bold"},we={class:"right"},$e={style:{margin:"16px"}},be=x({__name:"index",setup(g){const s=P(),i=G();S();const c=T(),u=void 0,e=k({username:"",password:"",remember:!0}),_=k(!0);k(!1);const v=k(!1),b=()=>new Promise(async(l,n)=>(c.userInfo,l(!0))),y=async()=>{v.value=!0,e.value.username=e.value.username.toLowerCase(),c.verify(Z(e.value)).then(async l=>{if(l){const n=s.query&&s.query.redirect?s.query.redirect:"/";i.push(n.toString()).catch(d=>{}),await b()}}).finally(()=>{v.value=!1})};return(l,n)=>{const d=A,f=K,$=q,L=J,j=B,D=W,F=Q;return r(),h("div",ge,[o(F,{onSubmit:y,class:"van-form-square-top"},{default:a(()=>[t("div",fe,[t("div",ke,C(m(u)),1),t("div",we,[o(d,null,{default:a(()=>[o(ae),o(he)]),_:1})])]),o(j,{inset:""},{default:a(()=>[o(f,{modelValue:e.value.username,"onUpdate:modelValue":n[0]||(n[0]=p=>e.value.username=p),name:"Username",label:l.$t("login.username"),placeholder:l.$t("login.username"),rules:[{required:!0,message:"Username is required"}]},null,8,["modelValue","label","placeholder"]),o(f,{modelValue:e.value.password,"onUpdate:modelValue":n[3]||(n[3]=p=>e.value.password=p),type:_.value?"password":"text",name:"Password",label:l.$t("login.password"),placeholder:l.$t("login.password"),rules:[{required:!0,message:"Password is required"}]},{"right-icon":a(()=>[_.value?(r(),w($,{key:0,name:"closed-eye",onClick:n[1]||(n[1]=p=>_.value=!1)})):(r(),w($,{key:1,name:"eye-o",onClick:n[2]||(n[2]=p=>_.value=!0)}))]),_:1},8,["modelValue","type","label","placeholder"]),o(f,{name:"checkbox",label:l.$t("login.remember")},{input:a(()=>[o(L,{modelValue:e.value.remember,"onUpdate:modelValue":n[4]||(n[4]=p=>e.value.remember=p),shape:"square"},null,8,["modelValue"])]),"right-icon":a(()=>[o($,{name:"warning-o"})]),_:1},8,["label"])]),_:1}),t("div",$e,[o(D,{round:"",block:"",type:"primary","native-type":"submit",loading:v.value,disable:v.value},{default:a(()=>[E(C(l.$t("login.signIn")),1)]),_:1},8,["loading","disable"])])]),_:1})])}}}),Be=H(be,[["__scopeId","data-v-47f91cb0"]]);export{Be as default};
