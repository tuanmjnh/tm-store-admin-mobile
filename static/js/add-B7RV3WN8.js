import{d as V,J as v,G as h,g as m,w as p,$ as a,o as i,b as t,e,M as k,j as q}from"./index-CCiqnY4g.js";import{A as x}from"./index-C6BQ7keO.js";import{F as w}from"./index-df1euzin.js";import{s as u,A as B,a as A}from"./function-call-DNrxL3W1.js";import{F as P}from"./index-BPe9Vb2s.js";import"./index-KPzygAO1.js";const N=V({__name:"add",setup(U){const d=v(),l=h(()=>d.item),g=async()=>{try{l.value._id?(await d.update(l.value)).data&&u({type:"success",message:a("success.update")}):(await d.create(l.value)).data&&(u({type:"primary",message:a("success.create")}),d.setItem())}catch(s){s.data&&s.data.message?u({type:"danger",message:a(`error.${s.data.message}`)}):u({type:"danger",message:a(`http.${s.status}`)})}};return(s,o)=>{const n=w,_=q,c=x,b=B,y=A,f=P;return i(),m(f,{required:"auto",onSubmit:g},{default:p(()=>[t(_,{inset:""},{default:p(()=>[t(n,{modelValue:e(l).key,"onUpdate:modelValue":o[0]||(o[0]=r=>e(l).key=r),name:"key",label:e(a)("global.key"),placeholder:e(a)("global.inputPlaceholder"),rules:[{required:!0,message:e(a)("error.required")}]},null,8,["modelValue","label","placeholder","rules"]),t(n,{modelValue:e(l).code,"onUpdate:modelValue":o[1]||(o[1]=r=>e(l).code=r),name:"code",label:e(a)("global.code"),placeholder:e(a)("global.inputPlaceholder"),rules:[{required:!0,message:e(a)("error.required")}]},null,8,["modelValue","label","placeholder","rules"]),t(n,{modelValue:e(l).name,"onUpdate:modelValue":o[2]||(o[2]=r=>e(l).name=r),name:"name",label:e(a)("global.name"),placeholder:e(a)("global.inputPlaceholder"),rules:[{required:!0,message:e(a)("error.required")}]},null,8,["modelValue","label","placeholder","rules"]),t(n,{modelValue:e(l).order,"onUpdate:modelValue":o[3]||(o[3]=r=>e(l).order=r),name:"name",label:e(a)("global.order"),placeholder:e(a)("global.inputPlaceholder"),rules:[{required:!0,message:e(a)("error.required")}]},null,8,["modelValue","label","placeholder","rules"]),t(n,{modelValue:e(l).desc,"onUpdate:modelValue":o[4]||(o[4]=r=>e(l).desc=r),type:"textarea",rows:"1",autosize:"",name:"desc",label:e(a)("global.desc"),placeholder:e(a)("global.inputPlaceholder")},null,8,["modelValue","label","placeholder"])]),_:1}),t(y,{placeholder:""},{default:p(()=>[t(c,{icon:"arrow-left",onClick:o[5]||(o[5]=r=>e(k)())}),t(c),e(l)._id?(i(),m(b,{key:0,type:"success","native-type":"submit",text:e(a)("global.update")},null,8,["text"])):(i(),m(b,{key:1,type:"primary","native-type":"submit",text:e(a)("global.add")},null,8,["text"]))]),_:1})]),_:1})}}});export{N as default};
